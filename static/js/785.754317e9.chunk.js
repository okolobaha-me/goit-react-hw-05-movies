"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[785],{8785:function(n,t,e){e.r(t),e.d(t,{default:function(){return p}});var r,a=e(885),i=e(2791),u=e(5705),c=e(3504),o=e(6871),s=e(5509),h=e(4454),d=e(168),l=e(6031).ZP.form(r||(r=(0,d.Z)(["\n  margin-bottom: 15px;\n"]))),f=e(5562),m=e(184),p=function(){var n,t=(0,i.useState)([]),e=(0,a.Z)(t,2),r=e[0],d=e[1],p=(0,i.useState)(""),g=(0,a.Z)(p,2),v=g[0],b=g[1],x=(0,o.TH)(),y=(0,o.s0)(),k=(0,i.useRef)(!0),w=null!==(n=new URLSearchParams(x.search).get("query"))&&void 0!==n?n:"";(0,i.useEffect)((function(){var n;if(k.current)return b(null!==(n=new URLSearchParams(x.search).get("query"))&&void 0!==n?n:""),void(k.current=!1);(0,s.z1)(v).then((function(n){d(n)})),y({search:(0,c.fW)({query:v}).toString()})}),[v,x.search,y]);var Z=(0,u.TA)({initialValues:{query:w},onSubmit:function(n){var t=n.query;t.trim()?b(t.trim()):f.Notify.failure("Please enter something in deasch field")}});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l,{onSubmit:Z.handleSubmit,children:[(0,m.jsx)("label",{children:(0,m.jsx)("input",{id:"query",name:"query",type:"text",value:Z.values.query,onChange:Z.handleChange})}),(0,m.jsx)("button",{type:"submit",children:"search"})]}),!!r.length&&(0,m.jsx)(h.s,{list:r})]})}},4454:function(n,t,e){e.d(t,{s:function(){return p}});var r,a,i,u=e(168),c=e(6031),o=e(3504),s=(0,c.ZP)(o.OL)(r||(r=(0,u.Z)(["\n  padding: 10px;\n  line-height: 1;\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n  color: inherit;\n\n  :visited {\n    color: inherit;\n  }\n"]))),h=c.ZP.li(a||(a=(0,u.Z)(["\n  padding: 0;\n  border-radius: 18px;\n\n  :nth-child(2n) {\n    background-color: #cdceff;\n  }\n\n  :nth-child(2n + 1) {\n    background-color: #bcbdff;\n  }\n"]))),d=e(6871),l=e(184),f=function(n){var t=n.film,e=(0,d.TH)();return(0,l.jsx)(h,{children:(0,l.jsx)(s,{to:"/movies/".concat(t.id),state:{from:"".concat(e.pathname).concat(e.search)},children:t.title})})},m=c.ZP.ul(i||(i=(0,u.Z)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]))),p=function(n){var t=n.list;return(0,l.jsx)(m,{children:!!t.length&&t.map((function(n){return(0,l.jsx)(f,{film:n},n.id)}))})}},5509:function(n,t,e){e.d(t,{TP:function(){return m},bc:function(){return v},ik:function(){return l},tx:function(){return g},z1:function(){return f},zv:function(){return p}});var r=e(5861),a=e(7757),i=e.n(a),u=e(4569),c=e.n(u);c().defaults.params={api_key:"079f315d1c0a92bbce195275b13a313a"};var o=c().create({method:"get",baseURL:"https://api.themoviedb.org/3/trending/movie/day"}),s=c().create({method:"get",baseURL:"https://api.themoviedb.org/3/search/movie",include_adult:"true"}),h=c().create({method:"get",baseURL:"https://api.themoviedb.org/3/movie"}),d=c().create({method:"get",baseURL:"https://api.themoviedb.org/3/person"}),l=function(){return o().then((function(n){return n.data.results}))},f=function(n){return s({params:{query:n}}).then((function(n){return n.data.results}))},m=function(n){try{return h.get("/".concat(n)).then((function(n){return n.data}))}catch(t){throw Error}},p=function(n){return h.get("/".concat(n,"/credits")).then((function(n){return n.data.cast}))},g=function(n){return h.get("/".concat(n,"/reviews")).then((function(n){return n.data.results}))},v=function(){var n=(0,r.Z)(i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.get("/".concat(t,"/images"));case 3:return n.abrupt("return",n.sent.data.profiles[0].file_path);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",!1);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=785.754317e9.chunk.js.map